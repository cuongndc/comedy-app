import{j as W,d as q,a as K,z as M,A as x,al as O,a3 as Q,C as X,N as G,aq as H,Q as h,u as e,o as _,b as v,e as f,f as t,w as Y,aG as Z,t as n,F as J,r as tt,h as g,c as I,E as N,_ as et,V as st,ah as ot,y as at,Y as ct,Z as it,aQ as l,a7 as nt,a8 as lt,aR as rt,aS as _t,aT as dt,aU as ut,a0 as mt,aV as pt,aW as xt}from"./entry-e57c9408.mjs";import ht from"./PageLoading-b98d5115.mjs";import{u as vt}from"./fetch-eded2b7d.mjs";import{c as b}from"./index-b351655c.mjs";import ft from"./ComicChapterTab-ddded220.mjs";import gt from"./ComicTab-e589e87d.mjs";import{i as bt}from"./index-e38c411c.mjs";const wt=q(()=>et(()=>import("./MeeToonImg-5e35f600.mjs"),["MeeToonImg-5e35f600.mjs","entry-e57c9408.mjs","entry.4f971340.css"])),c=d=>(nt("data-v-75a72620"),d=d(),lt(),d),yt={key:0},Ct={key:1,class:"h-[100vh] bg-accent-4"},kt=c(()=>t("img",{src:rt,alt:"back"},null,-1)),Tt=c(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:_t,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),Et={class:"fixed top-0 w-full max-w-[768px]"},$t={class:"relative mt-[150px]"},At={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},It={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},Nt={class:"left"},St={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},Bt={class:"flex flex-wrap"},Rt={class:"my-4 flex items-center justify-center rounded-xl text-[#1fcf84] border-[#1fcf84] text-base border-[1px] h-[20px] w-[80px]"},zt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Lt=c(()=>t("img",{src:dt,alt:"view count"},null,-1)),Vt={class:"ml-1"},jt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Dt=c(()=>t("img",{class:"w-[18px] h-[18px]",src:ut,alt:"follow count"},null,-1)),Ft={class:"ml-1"},Pt={class:"flex items-center text-base text-gray-50"},Ut=c(()=>t("img",{src:mt,alt:"comment count"},null,-1)),Wt={class:"ml-1"},qt={class:"right"},Kt={class:"w-[80px] text-center cursor-pointer"},Mt=c(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Ot={class:"flex items-center justify-center"},Qt={class:"text-white text-xl"},Xt=c(()=>t("div",{class:"cursor-pointer"},[t("img",{src:pt,alt:"Chia s\u1EBB"})],-1)),Gt=c(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:xt,alt:"Theo d\xF5i"})],-1)),Ht={class:"relative bg-accent-4"},Yt={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Zt=c(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),Jt=[Zt],te=c(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),ee=[te],se=K({__name:"[_id]",async setup(d){let u,w;const y=M().params,S=x(y.slug),B=x(y._id),m=x("comic"),i=O("chapters","$Nw28vAw1yu"),R=Q(),{data:s,pending:z,refresh:L}=([u,w]=X(()=>vt(`/api/comic/${S.value}/${B.value}`,"$lTLQR350fO")),u=await u,w(),u);G(async()=>{var o;!s.value||(i.value=await $fetch("/api/chapters",{params:{comic_slug:(o=s.value)==null?void 0:o.slug}}))}),H(async()=>{bt&&window.scrollTo({top:0,behavior:"smooth"}),await L()});const C=h(()=>m.value===l.comic),k=h(()=>m.value===l.chapter),V=h(()=>m.value===l.review),p=o=>{m.value=o},j=()=>{var o,a;return i.value&&i.value.length>0?st(`/${ot}/${(o=i.value[0])==null?void 0:o.slug}/${(a=i.value[0])==null?void 0:a._id}`):""},D=o=>({backgroundImage:`url(${R.public.imgCDN}${o})`});return(o,a)=>{var T,E,$,A;const F=ht,P=at,U=wt;return e(z)?(_(),v("div",yt,[f(F)])):(_(),v("section",Ct,[t("div",{style:Z(D(e(s).squareCover)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[f(P,{class:"ml-4",onClick:a[0]||(a[0]=r=>o.$router.back())},{default:Y(()=>[kt]),_:1}),Tt],4),t("div",Et,[f(U,{class:"relative w-full",src:e(s).squareCover},null,8,["src"])]),t("div",$t,[t("div",At,[t("div",It,[t("div",Nt,[t("div",null,[t("h1",St,n((T=e(s))==null?void 0:T.comicName),1)]),t("div",Bt,[t("div",Rt,n(e(ct)[(E=e(s))==null?void 0:E.status]),1),t("div",zt,[Lt,t("span",Vt,n(e(b)(e(s).viewCount)),1)]),t("div",jt,[Dt,t("span",Ft,n(e(b)(e(s).followingCount)),1)]),t("div",Pt,[Ut,t("span",Wt,n(e(b)(e(s).totalComment)),1)])])]),t("div",qt,[t("div",Kt,[Mt,t("div",Ot,[(_(),v(J,null,tt(5,r=>t("img",{key:r,src:it,alt:"rating"})),64))]),t("div",null,[t("span",Qt,n(e(s).reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Xt,Gt,t("a",{class:"comic-read",onClick:j}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",Ht,[t("div",Yt,[t("div",{class:g([{active:e(C)},"eKaTWX inline-block"]),onClick:a[1]||(a[1]=r=>p(e(l).comic))},Jt,2),t("div",{class:g([{active:e(k)},"eKaTWX"]),onClick:a[2]||(a[2]=r=>p(e(l).chapter))},[t("a",null,"Chapters ("+n(($=e(i))!=null&&$.length?(A=e(i))==null?void 0:A.length:0)+")",1)],2),t("div",{class:g([{active:e(V)},"eKaTWX"]),onClick:a[3]||(a[3]=r=>p(e(l).review))},ee,2)])]),e(C)?(_(),I(gt,{key:0,comic:e(s)},null,8,["comic"])):N("",!0),e(k)?(_(),I(ft,{key:1,chapters:e(i)},null,8,["chapters"])):N("",!0)]))}}});var de=W(se,[["__scopeId","data-v-75a72620"]]);export{de as default};
