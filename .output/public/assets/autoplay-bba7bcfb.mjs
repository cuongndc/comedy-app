import{a9 as f,aa as w}from"./entry-2f3658bf.mjs";function O(v){let{swiper:e,extendParams:E,on:u,emit:t}=v,n;e.autoplay={running:!1,paused:!1},E({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!e.size){e.autoplay.running=!1,e.autoplay.paused=!1;return}const a=e.slides.eq(e.activeIndex);let o=e.params.autoplay.delay;a.attr("data-swiper-autoplay")&&(o=a.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(n),n=w(()=>{let s;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),s=e.slidePrev(e.params.speed,!0,!0),t("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?r():(s=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),t("autoplay")):(s=e.slidePrev(e.params.speed,!0,!0),t("autoplay")):e.params.loop?(e.loopFix(),s=e.slideNext(e.params.speed,!0,!0),t("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?r():(s=e.slideTo(0,e.params.speed,!0,!0),t("autoplay")):(s=e.slideNext(e.params.speed,!0,!0),t("autoplay")),(e.params.cssMode&&e.autoplay.running||s===!1)&&i()},o)}function d(){return typeof n!="undefined"||e.autoplay.running?!1:(e.autoplay.running=!0,t("autoplayStart"),i(),!0)}function r(){return!e.autoplay.running||typeof n=="undefined"?!1:(n&&(clearTimeout(n),n=void 0),e.autoplay.running=!1,t("autoplayStop"),!0)}function l(a){!e.autoplay.running||e.autoplay.paused||(n&&clearTimeout(n),e.autoplay.paused=!0,a===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(o=>{e.$wrapperEl[0].addEventListener(o,p)}))}function y(){const a=f();a.visibilityState==="hidden"&&e.autoplay.running&&l(),a.visibilityState==="visible"&&e.autoplay.paused&&(i(),e.autoplay.paused=!1)}function p(a){!e||e.destroyed||!e.$wrapperEl||a.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(o=>{e.$wrapperEl[0].removeEventListener(o,p)}),e.autoplay.paused=!1,e.autoplay.running?i():r())}function c(){e.params.autoplay.disableOnInteraction?r():(t("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(a=>{e.$wrapperEl[0].removeEventListener(a,p)})}function m(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,t("autoplayResume"),i())}function g(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",c),e.$el.on("mouseleave",m))}function b(){e.$el.off("mouseenter",c),e.$el.off("mouseleave",m)}u("init",()=>{e.params.autoplay.enabled&&(d(),f().addEventListener("visibilitychange",y),g())}),u("beforeTransitionStart",(a,o,s)=>{e.autoplay.running&&(s||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(o):r())}),u("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?r():l())}),u("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&i()}),u("destroy",()=>{b(),e.autoplay.running&&r(),f().removeEventListener("visibilitychange",y)}),Object.assign(e.autoplay,{pause:l,run:i,start:d,stop:r})}export{O as A};
