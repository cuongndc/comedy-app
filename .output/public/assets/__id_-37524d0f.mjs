import{d as X,a as Z,z as q,A as m,ak as b,E as Q,N as ee,ap as te,u as s,o as P,b as H,e as x,w as k,U as se,t as u,f as e,h as j,at as D,aD as I,aE as v,aF as oe,_ as ae,aG as ne,aH as le,aI as ie,k as ce,V as M,aJ as V,B as R,ag as re,aK as de,aL as _e,aM as ue,aN as pe,aO as fe,aP as he}from"./entry-4cf3738f.mjs";import me from"./PageLoading-001ef1f8.mjs";import{a as xe}from"./fetch-da1ff5f1.mjs";import{s as l}from"./index-5bea675f.mjs";const ve=X(()=>ae(()=>import("./entry-4cf3738f.mjs").then(function(y){return y.aY}),["entry-4cf3738f.mjs","entry.e4f449b8.css"])),ge={key:0},we={key:1,ref:"scrollComponent",class:"flex h-fit min-h-screen flex-col bg-black scrollbar-hide"},Ce={class:"h-fit min-h-screen w-full bg-[#f8f3e6] text-black"},be={class:"flex h-full w-full items-center justify-between text-lg md:text-2xl bg-black/40"},ke=e("img",{src:ne,alt:"back"},null,-1),ye={class:"flex align-center"},Ne={class:"text-2xl font-semibold text-white"},$e=e("img",{src:le,alt:"arrow down"},null,-1),Ee=e("div",{class:"mr-4"},[e("img",{src:ie,alt:"report"})],-1),Se={class:"flex justify-around h-full"},ze=ce('<div class="flex align-center w-[30px] ml-3"><img src="'+de+'" alt="follow"></div><div class="flex align-center w-[30px]"><img src="'+_e+'" alt="comment"></div><div class="flex align-center w-[30px]"><img src="'+ue+'" alt="share"></div>',3),Ae=e("img",{src:pe,alt:"setting"},null,-1),Le=[Ae],Te=e("img",{src:fe,alt:"setting"},null,-1),Be=[Te],Pe=e("img",{src:he,alt:"setting"},null,-1),He=[Pe],je={class:"setting-font flex items-center justify-around h-full"},De=["onClick"],Ie=["onClick"],Me=["onClick"],Ve={class:"px-7 pt-[60px] font-[Literata] text-3xl"},Re=["innerHTML"],Je=Z({__name:"[_id]",async setup(y){let p,N;const Y=q().params,F=m(Y.chapter_slug),g=b("novelInfo","$dds6erXkpd"),w=b("chapters","$T5YYrSW93m"),C=b("novel","$bcP66CP5EC"),f=m(!0),h=m(!1),i=m(15),{pending:U,data:o,refresh:O}=([p,N]=Q(()=>xe("/api/novel/read-novel",{params:{slug:F.value}},"$fSb5m03Zd9")),p=await p,N(),p);ee(async()=>{var c,t,a;g.value=await $fetch("/api/novel/information",{params:{novelId:(c=o.value)==null?void 0:c.novelId}}),l(w,(t=g.value)==null?void 0:t.chapters),l(C,(a=g.value)==null?void 0:a.novel)}),te(()=>{O()});const G=()=>{l(i,i.value-1)},J=()=>{l(i,i.value+1)},K=()=>{l(i,15)},W=()=>{l(f,!f.value),l(h,!1)},$=async c=>{var t,a;if(c==="next"){const r=((t=o.value)==null?void 0:t.chapterNum)+1,n=w.value.find(d=>d.chapterNum===r);M({path:`/${V}/${n.slug}/${n._id}`,replace:!0})}if(c==="prev"){const r=((a=o.value)==null?void 0:a.chapterNum)-1,n=w.value.find(d=>d.chapterNum===r);M({path:`/${V}/${n.slug}/${n._id}`,replace:!0})}};return(c,t)=>{var E,S,z,A,L,T;const a=me,r=R("Title"),n=R("Head"),d=ve;return s(U)?(P(),H("div",ge,[x(a)])):(P(),H("div",we,[x(n,null,{default:k(()=>[x(r,null,{default:k(()=>{var _,B;return[se(u((_=s(C))==null?void 0:_.name)+" | Ch\u01B0\u01A1ng "+u((B=s(o))==null?void 0:B.chapterNum),1)]}),_:1})]),_:1}),e("div",{class:"relative flex h-fit flex-1 text-white",onClick:W},[e("div",Ce,[e("div",{class:j([{"top-0":f.value},"ease-in-out duration-300 fixed top-[-70px] left-0 z-[999] h-[44px] w-full"])},[e("div",be,[x(d,{to:s(re)((E=s(C))==null?void 0:E.slug),class:"w-[30px] h-[30px] flex ml-4"},{default:k(()=>[ke]),_:1},8,["to"]),e("div",ye,[e("span",Ne," Ch\u01B0\u01A1ng "+u((S=s(o))==null?void 0:S.chapterNum),1),$e]),Ee])],2),e("footer",{class:j(["fixed bottom-[-70px] h-[70px] bg-black/40 backdrop-blur-xl w-full ease-in-out duration-300",{"bottom-0":f.value}])},[D(e("div",Se,[ze,e("div",{class:"flex align-center w-[30px]",onClick:t[0]||(t[0]=v(_=>h.value=!0,["stop"]))},Le),e("div",{class:"flex align-center w-[30px]",onClick:t[1]||(t[1]=_=>$("prev"))},Be),e("div",{class:"flex align-center w-[30px] mr-3",onClick:t[2]||(t[2]=_=>$("next"))},He)],512),[[I,!h.value]]),D(e("div",je,[e("div",{class:"flex items-center justify-center w-[95px] h-[30px] border-[1px] border-white rounded-2xl text-white text-center",onClick:v(G,["stop"])}," A ",8,De),e("div",{class:"flex items-center justify-center w-[95px] h-[30px] border-[1px] border-white rounded-2xl text-white text-center",onClick:v(J,["stop"])}," A+ ",8,Ie),e("div",{class:"flex items-center justify-center w-[95px] h-[30px] border-[1px] border-white rounded-2xl text-white text-center",onClick:v(K,["stop"])}," M\u1EB7c \u0111\u1ECBnh ",8,Me)],512),[[I,h.value]])],2),e("h1",Ve," Ch\u01B0\u01A1ng "+u((z=s(o))==null?void 0:z.chapterNum)+": "+u((A=s(o))!=null&&A.chapterName?(L=s(o))==null?void 0:L.chapterName:"..."),1),e("div",{style:oe({"font-size":`${i.value}px`}),class:"px-7 pt-10 chapter-content font-[Literata]",innerHTML:(T=s(o))==null?void 0:T.content},null,12,Re)])])],512))}}});export{Je as default};
