import{j as F,d as V,a as X,z as K,A as x,ah as O,a6 as U,E as W,M as H,am as q,P as h,o as m,b as $,f as t,e as B,w as Y,az as G,u as e,t as n,F as J,r as Q,i as v,c as I,B as A,_ as Z,X as tt,Y as et,y as st,a0 as at,a1 as ot,aK as l,ab as ct,ac as it,aL as nt,aM as lt,aN as rt,aO as _t,a3 as dt,aP as ut,aQ as mt}from"./entry-8fb9504e.mjs";import{u as pt}from"./fetch-1a850ad7.mjs";import{c as f}from"./index-b351655c.mjs";import xt from"./ComicChapterTab-405d81c3.mjs";import ht from"./ComicTab-8047ccc7.mjs";const vt=V(()=>Z(()=>import("./MeeToonImg-57a5fba4.mjs"),["MeeToonImg-57a5fba4.mjs","entry-8fb9504e.mjs","entry.89b3f17e.css"])),a=r=>(ct("data-v-f3d09c44"),r=r(),it(),r),ft=a(()=>t("img",{src:nt,alt:"back"},null,-1)),gt=a(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:lt,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),bt={class:"fixed top-0 w-full max-w-[768px]"},wt={class:"relative mt-[150px]"},yt={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},Ct={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},kt={class:"left"},Et={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},Tt={class:"flex flex-wrap"},$t={class:"my-4 flex items-center justify-center rounded-xl text-[#1fcf84] border-[#1fcf84] text-base border-[1px] h-[20px] w-[80px]"},Bt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},It=a(()=>t("img",{src:rt,alt:"view count"},null,-1)),At={class:"ml-1"},Nt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},St=a(()=>t("img",{class:"w-[18px] h-[18px]",src:_t,alt:"follow count"},null,-1)),zt={class:"ml-1"},Lt={class:"flex items-center text-base text-gray-50"},Rt=a(()=>t("img",{src:dt,alt:"comment count"},null,-1)),Mt={class:"ml-1"},Pt={class:"right"},jt={class:"w-[80px] text-center cursor-pointer"},Dt=a(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Ft={class:"flex items-center justify-center"},Vt={class:"text-white text-xl"},Xt=a(()=>t("div",{class:"cursor-pointer"},[t("img",{src:ut,alt:"Chia s\u1EBB"})],-1)),Kt=a(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:mt,alt:"Theo d\xF5i"})],-1)),Ot={class:"relative bg-accent-4"},Ut={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Wt=a(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),Ht=[Wt],qt=a(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),Yt=[qt],Gt=X({__name:"[_id]",async setup(r){let _,g;const b=K().params,N=x(b.slug),S=x(b._id),d=x("comic"),c=O("chapters","$a672OVXL6r"),z=U(),{data:s,pending:Qt,refresh:L}=([_,g]=W(()=>pt(`/api/comic/${N.value}/${S.value}`,"$H09MUWyJdL")),_=await _,g(),_);H(async()=>{!s.value||(c.value=await $fetch("/api/chapters",{params:{comic_slug:s.value.slug}}))}),q(async()=>{await L()});const w=h(()=>d.value===l.comic),y=h(()=>d.value===l.chapter),R=h(()=>d.value===l.review),p=i=>{d.value=i},M=()=>{var i,o;return c.value&&c.value.length>0?tt(`/${et}/${(i=c.value[0])==null?void 0:i.slug}/${(o=c.value[0])==null?void 0:o._id}`):""},P=i=>({backgroundImage:`url(${z.public.imgCDN}${i})`});return(i,o)=>{var C,k,E,T;const j=st,D=vt;return m(),$("section",null,[t("div",{style:G(P(e(s).squareCover)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[B(j,{to:"/",class:"ml-4"},{default:Y(()=>[ft]),_:1}),gt],4),t("div",bt,[B(D,{class:"relative w-full",src:e(s).squareCover},null,8,["src"])]),t("div",wt,[t("div",yt,[t("div",Ct,[t("div",kt,[t("div",null,[t("h1",Et,n((C=e(s))==null?void 0:C.comicName),1)]),t("div",Tt,[t("div",$t,n(e(at)[(k=e(s))==null?void 0:k.status]),1),t("div",Bt,[It,t("span",At,n(e(f)(e(s).viewCount)),1)]),t("div",Nt,[St,t("span",zt,n(e(f)(e(s).followingCount)),1)]),t("div",Lt,[Rt,t("span",Mt,n(e(f)(e(s).totalComment)),1)])])]),t("div",Pt,[t("div",jt,[Dt,t("div",Ft,[(m(),$(J,null,Q(5,u=>t("img",{key:u,src:ot,alt:"rating"})),64))]),t("div",null,[t("span",Vt,n(e(s).reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Xt,Kt,t("a",{class:"comic-read",onClick:M}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",Ot,[t("div",Ut,[t("div",{class:v([{active:e(w)},"eKaTWX inline-block"]),onClick:o[0]||(o[0]=u=>p(e(l).comic))},Ht,2),t("div",{class:v([{active:e(y)},"eKaTWX"]),onClick:o[1]||(o[1]=u=>p(e(l).chapter))},[t("a",null,"Chapters ("+n((E=e(c))!=null&&E.length?(T=e(c))==null?void 0:T.length:0)+")",1)],2),t("div",{class:v([{active:e(R)},"eKaTWX"]),onClick:o[2]||(o[2]=u=>p(e(l).review))},Yt,2)])]),e(w)?(m(),I(ht,{key:0,comic:e(s)},null,8,["comic"])):A("",!0),e(y)?(m(),I(xt,{key:1,chapters:e(c)},null,8,["chapters"])):A("",!0)])}}});var oe=F(Gt,[["__scopeId","data-v-f3d09c44"]]);export{oe as default};
