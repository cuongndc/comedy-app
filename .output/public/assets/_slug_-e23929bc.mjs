import{j as H,d as K,a as O,z as Q,A,ak as G,a8 as J,E as Y,N as Z,ap as q,Q as x,o as m,b as R,f as t,e as z,w as tt,aF as et,u as e,t as i,F as st,r as ot,h as v,c as F,H as N,_ as at,V as ct,aJ as nt,y as it,a2 as lt,a3 as rt,aQ as l,ac as _t,ad as dt,aR as ut,aS as mt,aT as pt,aU as xt,a5 as vt,aV as ht,aW as ft}from"./entry-4cf3738f.mjs";import{u as gt}from"./fetch-da1ff5f1.mjs";import{c as h}from"./index-b351655c.mjs";import bt from"./ComicChapterTab-8426cd91.mjs";import wt from"./ComicTab-3223d0de.mjs";import{i as yt}from"./index-5bea675f.mjs";const Ct=K(()=>at(()=>import("./MeeToonImg-49cf5fba.mjs"),["MeeToonImg-49cf5fba.mjs","entry-4cf3738f.mjs","entry.e4f449b8.css"])),a=_=>(_t("data-v-3165c15b"),_=_(),dt(),_),kt=a(()=>t("img",{src:ut,alt:"back"},null,-1)),Et=a(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:mt,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),Tt={class:"fixed top-0 w-full max-w-[768px]"},$t={class:"relative mt-[150px]"},It={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},St={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},Bt={class:"left"},At={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},Rt={class:"flex flex-wrap"},zt={class:"my-4 flex items-center justify-center rounded-xl text-[#1fcf84] border-[#1fcf84] text-base border-[1px] h-[20px] w-[80px]"},Ft={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Nt=a(()=>t("img",{src:pt,alt:"view count"},null,-1)),Vt={class:"ml-1"},Lt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},jt=a(()=>t("img",{class:"w-[18px] h-[18px]",src:xt,alt:"follow count"},null,-1)),Dt={class:"ml-1"},Pt={class:"flex items-center text-base text-gray-50"},Ut=a(()=>t("img",{src:vt,alt:"comment count"},null,-1)),Mt={class:"ml-1"},Wt={class:"right"},Xt={class:"w-[80px] text-center cursor-pointer"},Ht=a(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Kt={class:"flex items-center justify-center"},Ot={class:"text-white text-xl"},Qt=a(()=>t("div",{class:"cursor-pointer"},[t("img",{src:ht,alt:"Chia s\u1EBB"})],-1)),Gt=a(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:ft,alt:"Theo d\xF5i"})],-1)),Jt={class:"relative bg-accent-4"},Yt={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Zt=a(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),qt=[Zt],te=a(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),ee=[te],se=O({__name:"[slug]",async setup(_){let d,f;const V=Q().params,L=A(V.slug),u=A("comic"),c=G("chapters","$MPIostZ64n"),j=J(),{data:s,pending:ae,refresh:D}=([d,f]=Y(()=>gt(`/api/novel/${L.value}`,"$yV313FkRXc")),d=await d,f(),d);Z(async()=>{!s.value||(c.value=await $fetch("/api/novel/chapters",{params:{novelId:s.value._id}}))}),q(async()=>{yt&&window.scrollTo({top:0,behavior:"smooth"}),await D()});const g=x(()=>u.value===l.comic),b=x(()=>u.value===l.chapter),P=x(()=>u.value===l.review),p=n=>{u.value=n},U=()=>{var n,o;return c.value&&c.value.length>0?ct(`/${nt}/${(n=c.value[0])==null?void 0:n.slug}/${(o=c.value[0])==null?void 0:o._id}`):""},M=n=>({backgroundImage:`url(${j.public.imgCDN}${n})`});return(n,o)=>{var w,y,C,k,E,T,$,I,S,B;const W=it,X=Ct;return m(),R("section",null,[t("div",{style:et(M((w=e(s))==null?void 0:w.verticalLogo)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[z(W,{class:"ml-4",onClick:o[0]||(o[0]=r=>n.$router.back())},{default:tt(()=>[kt]),_:1}),Et],4),t("div",Tt,[z(X,{class:"relative w-full",src:(y=e(s))==null?void 0:y.verticalLogo},null,8,["src"])]),t("div",$t,[t("div",It,[t("div",St,[t("div",Bt,[t("div",null,[t("h1",At,i((C=e(s))==null?void 0:C.name),1)]),t("div",Rt,[t("div",zt,i(e(lt)[(k=e(s))==null?void 0:k.novelStatus]),1),t("div",Ft,[Nt,t("span",Vt,i(e(h)((E=e(s))==null?void 0:E.viewCount)),1)]),t("div",Lt,[jt,t("span",Dt,i(e(h)((T=e(s))==null?void 0:T.followingCount)),1)]),t("div",Pt,[Ut,t("span",Mt,i(e(h)(($=e(s))==null?void 0:$.totalComment)),1)])])]),t("div",Wt,[t("div",Xt,[Ht,t("div",Kt,[(m(),R(st,null,ot(5,r=>t("img",{key:r,src:rt,alt:"rating"})),64))]),t("div",null,[t("span",Ot,i((I=e(s))==null?void 0:I.reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Qt,Gt,t("a",{class:"comic-read",onClick:U}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",Jt,[t("div",Yt,[t("div",{class:v([{active:e(g)},"eKaTWX inline-block"]),onClick:o[1]||(o[1]=r=>p(e(l).comic))},qt,2),t("div",{class:v([{active:e(b)},"eKaTWX"]),onClick:o[2]||(o[2]=r=>p(e(l).chapter))},[t("a",null,"Chapters ("+i((S=e(c))!=null&&S.length?(B=e(c))==null?void 0:B.length:0)+")",1)],2),t("div",{class:v([{active:e(P)},"eKaTWX"]),onClick:o[3]||(o[3]=r=>p(e(l).review))},ee,2)])]),e(g)?(m(),F(wt,{key:0,comic:e(s)},null,8,["comic"])):N("",!0),e(b)?(m(),F(bt,{key:1,chapters:e(c)},null,8,["chapters"])):N("",!0)])}}});var de=H(se,[["__scopeId","data-v-3165c15b"]]);export{de as default};
