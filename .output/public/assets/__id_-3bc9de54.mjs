import{j as H,d as P,a as U,z as W,A as x,ak as X,a8 as q,E as K,N as M,ap as O,Q as v,o as m,b as $,f as t,e as I,w as Q,aF as Z,u as e,t as n,F as G,r as Y,h,c as S,H as N,_ as J,V as tt,$ as et,y as st,a2 as at,a3 as ot,aQ as l,ac as ct,ad as it,aR as nt,aS as lt,aT as rt,aU as _t,a5 as dt,aV as ut,aW as mt}from"./entry-4cf3738f.mjs";import{u as pt}from"./fetch-da1ff5f1.mjs";import{c as f}from"./index-b351655c.mjs";import xt from"./ComicChapterTab-8426cd91.mjs";import vt from"./ComicTab-3223d0de.mjs";import{i as ht}from"./index-5bea675f.mjs";const ft=P(()=>J(()=>import("./MeeToonImg-49cf5fba.mjs"),["MeeToonImg-49cf5fba.mjs","entry-4cf3738f.mjs","entry.e4f449b8.css"])),c=_=>(ct("data-v-1e392ff0"),_=_(),it(),_),gt=c(()=>t("img",{src:nt,alt:"back"},null,-1)),bt=c(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:lt,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),wt={class:"fixed top-0 w-full max-w-[768px]"},Ct={class:"relative mt-[150px]"},yt={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},kt={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},Et={class:"left"},Tt={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},$t={class:"flex flex-wrap"},It={class:"my-4 flex items-center justify-center rounded-xl text-[#1fcf84] border-[#1fcf84] text-base border-[1px] h-[20px] w-[80px]"},St={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Nt=c(()=>t("img",{src:rt,alt:"view count"},null,-1)),At={class:"ml-1"},Bt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},zt=c(()=>t("img",{class:"w-[18px] h-[18px]",src:_t,alt:"follow count"},null,-1)),Rt={class:"ml-1"},jt={class:"flex items-center text-base text-gray-50"},Ft=c(()=>t("img",{src:dt,alt:"comment count"},null,-1)),Vt={class:"ml-1"},Dt={class:"right"},Lt={class:"w-[80px] text-center cursor-pointer"},Ht=c(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Pt={class:"flex items-center justify-center"},Ut={class:"text-white text-xl"},Wt=c(()=>t("div",{class:"cursor-pointer"},[t("img",{src:ut,alt:"Chia s\u1EBB"})],-1)),Xt=c(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:mt,alt:"Theo d\xF5i"})],-1)),qt={class:"relative bg-accent-4"},Kt={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Mt=c(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),Ot=[Mt],Qt=c(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),Zt=[Qt],Gt=U({__name:"[_id]",async setup(_){let d,g;const b=W().params,A=x(b.slug),B=x(b._id),u=x("comic"),i=X("chapters","$0SZuNjwaZL"),z=q(),{data:s,pending:Jt,refresh:R}=([d,g]=K(()=>pt(`/api/comic/${A.value}/${B.value}`,"$zqH1mEXCtI")),d=await d,g(),d);M(async()=>{var a;!s.value||(i.value=await $fetch("/api/chapters",{params:{comic_slug:(a=s.value)==null?void 0:a.slug}}))}),O(async()=>{ht&&window.scrollTo({top:0,behavior:"smooth"}),await R()});const w=v(()=>u.value===l.comic),C=v(()=>u.value===l.chapter),j=v(()=>u.value===l.review),p=a=>{u.value=a},F=()=>{var a,o;return i.value&&i.value.length>0?tt(`/${et}/${(a=i.value[0])==null?void 0:a.slug}/${(o=i.value[0])==null?void 0:o._id}`):""},V=a=>({backgroundImage:`url(${z.public.imgCDN}${a})`});return(a,o)=>{var y,k,E,T;const D=st,L=ft;return m(),$("section",null,[t("div",{style:Z(V(e(s).squareCover)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[I(D,{class:"ml-4",onClick:o[0]||(o[0]=r=>a.$router.back())},{default:Q(()=>[gt]),_:1}),bt],4),t("div",wt,[I(L,{class:"relative w-full",src:e(s).squareCover},null,8,["src"])]),t("div",Ct,[t("div",yt,[t("div",kt,[t("div",Et,[t("div",null,[t("h1",Tt,n((y=e(s))==null?void 0:y.comicName),1)]),t("div",$t,[t("div",It,n(e(at)[(k=e(s))==null?void 0:k.status]),1),t("div",St,[Nt,t("span",At,n(e(f)(e(s).viewCount)),1)]),t("div",Bt,[zt,t("span",Rt,n(e(f)(e(s).followingCount)),1)]),t("div",jt,[Ft,t("span",Vt,n(e(f)(e(s).totalComment)),1)])])]),t("div",Dt,[t("div",Lt,[Ht,t("div",Pt,[(m(),$(G,null,Y(5,r=>t("img",{key:r,src:ot,alt:"rating"})),64))]),t("div",null,[t("span",Ut,n(e(s).reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Wt,Xt,t("a",{class:"comic-read",onClick:F}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",qt,[t("div",Kt,[t("div",{class:h([{active:e(w)},"eKaTWX inline-block"]),onClick:o[1]||(o[1]=r=>p(e(l).comic))},Ot,2),t("div",{class:h([{active:e(C)},"eKaTWX"]),onClick:o[2]||(o[2]=r=>p(e(l).chapter))},[t("a",null,"Chapters ("+n((E=e(i))!=null&&E.length?(T=e(i))==null?void 0:T.length:0)+")",1)],2),t("div",{class:h([{active:e(j)},"eKaTWX"]),onClick:o[3]||(o[3]=r=>p(e(l).review))},Zt,2)])]),e(w)?(m(),S(vt,{key:0,comic:e(s)},null,8,["comic"])):N("",!0),e(C)?(m(),S(xt,{key:1,chapters:e(i)},null,8,["chapters"])):N("",!0)])}}});var ie=H(Gt,[["__scopeId","data-v-1e392ff0"]]);export{ie as default};
