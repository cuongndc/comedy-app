import{j as L,d as q,a as V,v as W,w as x,ac as X,a6 as H,D as K,L as M,ah as O,O as h,o as m,b as T,f as t,e as $,y as U,as as Y,u as e,t as n,F as G,r as J,h as v,c as I,z,_ as Q,aq as Z,W as tt,X as et,A as st,a2 as at,at as l,a8 as ot,a9 as ct,au as it,av as nt,aw as lt,ax as rt,a3 as _t,ay as dt,az as ut}from"./entry-a18a7735.mjs";import{c as g}from"./index-b351655c.mjs";import mt from"./ComicChapterTab-2d342056.mjs";import pt from"./ComicTab-24b7632d.mjs";import"./ChapterRepresent-8b847cb7.mjs";import"./MeeToonImg-3f161fa9.mjs";const xt=q(()=>Q(()=>import("./MeeToonImg-3f161fa9.mjs"),["MeeToonImg-3f161fa9.mjs","entry-a18a7735.mjs","entry.d7648aa8.css"])),s=r=>(ot("data-v-1ba985d3"),r=r(),ct(),r),ht=s(()=>t("img",{src:it,alt:"back"},null,-1)),vt=s(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:nt,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),gt={class:"fixed top-0 w-full max-w-[768px]"},ft={class:"relative mt-[150px]"},bt={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},wt={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},yt={class:"left"},Ct={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},Et={class:"flex flex-wrap"},kt=s(()=>t("div",{class:"my-4 flex items-center justify-center rounded-xl text-primary text-base border-[1px] border-red-700 h-[20px] w-[80px]"}," Ho\xE0n t\u1EA5t ",-1)),Tt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},$t=s(()=>t("img",{src:lt,alt:"view count"},null,-1)),It={class:"ml-1"},zt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},At=s(()=>t("img",{class:"w-[18px] h-[18px]",src:rt,alt:"follow count"},null,-1)),Bt={class:"ml-1"},Nt={class:"flex items-center text-base text-gray-50"},Rt=s(()=>t("img",{src:_t,alt:"comment count"},null,-1)),St={class:"ml-1"},Pt={class:"right"},Dt={class:"w-[80px] text-center cursor-pointer"},jt=s(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Ft={class:"flex items-center justify-center"},Lt={class:"text-white text-xl"},qt=s(()=>t("div",{class:"cursor-pointer"},[t("img",{src:dt,alt:"Chia s\u1EBB"})],-1)),Vt=s(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:ut,alt:"Theo d\xF5i"})],-1)),Wt={class:"relative bg-accent-4"},Xt={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Ht=s(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),Kt=[Ht],Mt=s(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),Ot=[Mt],Ut=V({__name:"[_id]",async setup(r){let _,f;const b=W().params,A=x(b.slug),B=x(b._id),d=x("comic"),c=X("chapters","$eSIxtPvYzq"),N=H(),{data:a,pending:Gt,refresh:R}=([_,f]=K(()=>Z(`/api/comic/${A.value}/${B.value}`,"$hsfJR2PTP8")),_=await _,f(),_);M(async()=>{!a.value||(c.value=await $fetch("/api/chapters",{params:{comic_slug:a.value.slug}}))}),O(async()=>{await R()});const w=h(()=>d.value===l.comic),y=h(()=>d.value===l.chapter),S=h(()=>d.value===l.review),p=i=>{d.value=i},P=()=>{var i,o;return c.value&&c.value.length>0?tt(`/${et}/${(i=c.value[0])==null?void 0:i.slug}/${(o=c.value[0])==null?void 0:o._id}`):""},D=i=>({backgroundImage:`url(${N.public.imgCDN}${i})`});return(i,o)=>{var C,E,k;const j=st,F=xt;return m(),T("section",null,[t("div",{style:Y(D(e(a).squareCover)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[$(j,{to:"/",class:"ml-4"},{default:U(()=>[ht]),_:1}),vt],4),t("div",gt,[$(F,{class:"relative w-full",src:e(a).squareCover},null,8,["src"])]),t("div",ft,[t("div",bt,[t("div",wt,[t("div",yt,[t("div",null,[t("h1",Ct,n((C=e(a))==null?void 0:C.comicName),1)]),t("div",Et,[kt,t("div",Tt,[$t,t("span",It,n(e(g)(e(a).viewCount)),1)]),t("div",zt,[At,t("span",Bt,n(e(g)(e(a).followingCount)),1)]),t("div",Nt,[Rt,t("span",St,n(e(g)(e(a).totalComment)),1)])])]),t("div",Pt,[t("div",Dt,[jt,t("div",Ft,[(m(),T(G,null,J(5,u=>t("img",{key:u,src:at,alt:"rating"})),64))]),t("div",null,[t("span",Lt,n(e(a).reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[qt,Vt,t("a",{class:"comic-read",onClick:P}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",Wt,[t("div",Xt,[t("div",{class:v([{active:e(w)},"eKaTWX inline-block"]),onClick:o[0]||(o[0]=u=>p(e(l).comic))},Kt,2),t("div",{class:v([{active:e(y)},"eKaTWX"]),onClick:o[1]||(o[1]=u=>p(e(l).chapter))},[t("a",null,"Chapters ("+n((E=e(c))!=null&&E.length?(k=e(c))==null?void 0:k.length:0)+")",1)],2),t("div",{class:v([{active:e(S)},"eKaTWX"]),onClick:o[2]||(o[2]=u=>p(e(l).review))},Ot,2)])]),e(w)?(m(),I(pt,{key:0,comic:e(a)},null,8,["comic"])):z("",!0),e(y)?(m(),I(mt,{key:1,chapters:e(c)},null,8,["chapters"])):z("",!0)])}}});var ae=L(Ut,[["__scopeId","data-v-1ba985d3"]]);export{ae as default};
