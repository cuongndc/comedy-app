import{d as u,a as S,z as V,A as H,ah as M,E as B,M as D,am as Y,u as a,o as y,b,e as o,w as _,T as j,t as p,f as e,_ as m,X as C,Y as N,h as $,H as F,G}from"./entry-8fb9504e.mjs";import U from"./PageLoading-9fff3f62.mjs";import{a as X}from"./fetch-1a850ad7.mjs";const Z=u(()=>m(()=>import("./entry-8fb9504e.mjs").then(function(f){return f.aS}),["entry-8fb9504e.mjs","entry.89b3f17e.css"])),q=u(()=>m(()=>import("./ChapterImg-67d16715.mjs"),["ChapterImg-67d16715.mjs","MeeToonImg-57a5fba4.mjs","entry-8fb9504e.mjs","entry.89b3f17e.css"])),J=u(()=>m(()=>import("./ReadMangaFooter-bcd17429.mjs"),["ReadMangaFooter-bcd17429.mjs","entry-8fb9504e.mjs","entry.89b3f17e.css"])),K={key:0},Q={key:1,ref:"scrollComponent",class:"flex h-fit min-h-screen flex-col bg-black scrollbar-hide"},W={class:"relative flex h-fit flex-1 text-white"},ee={class:"h-fit min-h-screen w-full bg-black"},te={class:"fixed top-0 left-0 z-[999] h-[60px] w-full"},ae={class:"flex h-full w-full items-center justify-between text-lg md:text-2xl bg-accent-1"},ne={class:"flex h-full w-fit items-center justify-evenly gap-4 px-4 md:space-x-4"},se=e("button",null,null,-1),oe={class:"fond-bold h-fit w-[25%] capitalize line-clamp-1 md:w-[30%]"},ce={class:"h-[60%] w-fit max-w-[80px] whitespace-nowrap rounded-xl bg-highlight p-2 text-base line-clamp-1 md:text-lg"},le={class:"absolute-center h-full w-fit gap-4 md:mx-6"},de=S({__name:"[_id]",async setup(f){let r,x;const A=V().params,E=H(A.chapter_slug),d=M("chapters","$soZRuRfLuA"),{pending:T,data:t,refresh:z}=([r,x]=B(()=>X("/api/read-comic",{params:{chapter_slug:E.value}},"$tl5ShYp14A")),r=await r,x(),r);D(async()=>{d.value=await $fetch("/api/chapters",{params:{comic_slug:t.value.chapter.comicSlug}})}),Y(()=>{z()});const h=async c=>{if(c==="next"){const n=t.value.chapter.chapterOrderIndex+1,s=d.value.find(l=>l.chapterOrderIndex===n);C({path:`/${N}/${s.slug}/${s._id}`,replace:!0})}if(c==="prev"){const n=t.value.chapter.chapterOrderIndex-1,s=d.value.find(l=>l.chapterOrderIndex===n);C({path:`/${N}/${s.slug}/${s._id}`,replace:!0})}},L=c=>{h(c)};return(c,n)=>{var g,v;const s=U,l=$("Title"),P=$("Head"),R=Z,k=q,I=F,O=J;return a(T)?(y(),b("div",K,[o(s)])):(y(),b("div",Q,[o(P,null,{default:_(()=>[o(l,null,{default:_(()=>{var i,w;return[j(p((i=a(t).chapter)==null?void 0:i.chapterName)+" | Ch\u01B0\u01A1ng "+p((w=a(t).chapter)==null?void 0:w.chapterNum),1)]}),_:1})]),_:1}),e("div",W,[e("div",ee,[e("div",te,[e("div",ae,[e("div",ne,[o(R,{to:a(G)(a(t).chapter.comicSlug,a(t).chapter.comicId),class:"flex"},{default:_(()=>[se]),_:1},8,["to"]),e("h1",oe,p((g=a(t).chapter)==null?void 0:g.chapterName),1),e("button",ce," Chapter: "+p((v=a(t).chapter)==null?void 0:v.chapterNum),1),e("div",le,[e("button",{"data-id":"prev",class:"rounded-xl-lg bg-highlight p-4 md:p-4",onClick:n[0]||(n[0]=i=>h("prev"))}),e("button",{"data-id":"next",class:"rounded-xl-lg bg-highlight p-4 md:p-4",onClick:n[1]||(n[1]=i=>h("next"))})])])])]),o(I,null,{default:_(()=>[o(k,{pages:a(t).pages},null,8,["pages"])]),_:1}),o(O,{onNextProcess:L})])])],512))}}});export{de as default};
