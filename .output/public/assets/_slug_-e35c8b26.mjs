import{j as X,d as O,a as W,z as H,A as S,ah as Y,a6 as G,E as Q,M as Z,am as q,P as x,o as m,b as z,f as t,e as A,w as J,az as tt,u as e,t as i,F as et,r as st,i as v,c as L,B as N,_ as at,X as ot,aD as ct,y as nt,a0 as it,a1 as lt,aK as l,ab as rt,ac as _t,aL as dt,aM as ut,aN as mt,aO as pt,a3 as xt,aP as vt,aQ as ht}from"./entry-8fb9504e.mjs";import{u as ft}from"./fetch-1a850ad7.mjs";import{c as h}from"./index-b351655c.mjs";import gt from"./ComicChapterTab-405d81c3.mjs";import bt from"./ComicTab-8047ccc7.mjs";const wt=O(()=>at(()=>import("./MeeToonImg-57a5fba4.mjs"),["MeeToonImg-57a5fba4.mjs","entry-8fb9504e.mjs","entry.89b3f17e.css"])),a=r=>(rt("data-v-06f915e2"),r=r(),_t(),r),yt=a(()=>t("img",{src:dt,alt:"back"},null,-1)),Ct=a(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:ut,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),kt={class:"fixed top-0 w-full max-w-[768px]"},Et={class:"relative mt-[150px]"},Tt={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},$t={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},Bt={class:"left"},It={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},St={class:"flex flex-wrap"},zt={class:"my-4 flex items-center justify-center rounded-xl text-[#1fcf84] border-[#1fcf84] text-base border-[1px] h-[20px] w-[80px]"},At={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Lt=a(()=>t("img",{src:mt,alt:"view count"},null,-1)),Nt={class:"ml-1"},Dt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Pt=a(()=>t("img",{class:"w-[18px] h-[18px]",src:pt,alt:"follow count"},null,-1)),Rt={class:"ml-1"},jt={class:"flex items-center text-base text-gray-50"},Ft=a(()=>t("img",{src:xt,alt:"comment count"},null,-1)),Kt={class:"ml-1"},Mt={class:"right"},Ut={class:"w-[80px] text-center cursor-pointer"},Vt=a(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Xt={class:"flex items-center justify-center"},Ot={class:"text-white text-xl"},Wt=a(()=>t("div",{class:"cursor-pointer"},[t("img",{src:vt,alt:"Chia s\u1EBB"})],-1)),Ht=a(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:ht,alt:"Theo d\xF5i"})],-1)),Yt={class:"relative bg-accent-4"},Gt={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Qt=a(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),Zt=[Qt],qt=a(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),Jt=[qt],te=W({__name:"[slug]",async setup(r){let _,f;const D=H().params,P=S(D.slug),d=S("comic"),c=Y("chapters","$wuvxYU4bgB"),R=G(),{data:s,pending:se,refresh:j}=([_,f]=Q(()=>ft(`/api/novel/${P.value}`,"$3BchvKZ7Bc")),_=await _,f(),_);Z(async()=>{!s.value||(c.value=await $fetch("/api/novel/chapters",{params:{novelId:s.value._id}}))}),q(async()=>{await j()});const g=x(()=>d.value===l.comic),b=x(()=>d.value===l.chapter),F=x(()=>d.value===l.review),p=n=>{d.value=n},K=()=>{var n,o;return c.value&&c.value.length>0?ot(`/${ct}/${(n=c.value[0])==null?void 0:n.slug}/${(o=c.value[0])==null?void 0:o._id}`):""},M=n=>({backgroundImage:`url(${R.public.imgCDN}${n})`});return(n,o)=>{var w,y,C,k,E,T,$,B,I;const U=nt,V=wt;return m(),z("section",null,[t("div",{style:tt(M(e(s).verticalLogo)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[A(U,{to:"/",class:"ml-4"},{default:J(()=>[yt]),_:1}),Ct],4),t("div",kt,[A(V,{class:"relative w-full",src:(w=e(s))==null?void 0:w.verticalLogo},null,8,["src"])]),t("div",Et,[t("div",Tt,[t("div",$t,[t("div",Bt,[t("div",null,[t("h1",It,i((y=e(s))==null?void 0:y.name),1)]),t("div",St,[t("div",zt,i(e(it)[(C=e(s))==null?void 0:C.novelStatus]),1),t("div",At,[Lt,t("span",Nt,i(e(h)((k=e(s))==null?void 0:k.viewCount)),1)]),t("div",Dt,[Pt,t("span",Rt,i(e(h)((E=e(s))==null?void 0:E.followingCount)),1)]),t("div",jt,[Ft,t("span",Kt,i(e(h)((T=e(s))==null?void 0:T.totalComment)),1)])])]),t("div",Mt,[t("div",Ut,[Vt,t("div",Xt,[(m(),z(et,null,st(5,u=>t("img",{key:u,src:lt,alt:"rating"})),64))]),t("div",null,[t("span",Ot,i(($=e(s))==null?void 0:$.reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Wt,Ht,t("a",{class:"comic-read",onClick:K}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",Yt,[t("div",Gt,[t("div",{class:v([{active:e(g)},"eKaTWX inline-block"]),onClick:o[0]||(o[0]=u=>p(e(l).comic))},Zt,2),t("div",{class:v([{active:e(b)},"eKaTWX"]),onClick:o[1]||(o[1]=u=>p(e(l).chapter))},[t("a",null,"Chapters ("+i((B=e(c))!=null&&B.length?(I=e(c))==null?void 0:I.length:0)+")",1)],2),t("div",{class:v([{active:e(F)},"eKaTWX"]),onClick:o[2]||(o[2]=u=>p(e(l).review))},Jt,2)])]),e(g)?(m(),L(bt,{key:0,comic:e(s)},null,8,["comic"])):N("",!0),e(b)?(m(),L(gt,{key:1,chapters:e(c)},null,8,["chapters"])):N("",!0)])}}});var le=X(te,[["__scopeId","data-v-06f915e2"]]);export{le as default};
