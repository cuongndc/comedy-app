import{j as L,d as V,a as q,v as H,w as x,ac as K,a1 as W,D as X,L as Y,ah as M,O as h,o as m,b as T,f as t,e as $,y as O,as as U,u as e,t as n,F as G,r as J,h as v,c as I,z,_ as Z,T as Q,a9 as tt,A as et,Y as st,at as l,a3 as at,a4 as ot,au as ct,av as it,aw as nt,ax as lt,Z as rt,ay as _t,az as dt}from"./entry-61439e31.mjs";import{u as ut}from"./fetch-86eab9a1.mjs";import{c as f}from"./index-b351655c.mjs";import mt from"./ComicChapterTab-5c8e78b5.mjs";import pt from"./ComicTab-a5d71c29.mjs";import"./ChapterRepresent-d0135761.mjs";import"./MeeToonImg-9e182ae1.mjs";const xt=V(()=>Z(()=>import("./MeeToonImg-9e182ae1.mjs"),["MeeToonImg-9e182ae1.mjs","entry-61439e31.mjs","entry.8fbadc86.css"])),s=r=>(at("data-v-1ba985d3"),r=r(),ot(),r),ht=s(()=>t("img",{src:ct,alt:"back"},null,-1)),vt=s(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:it,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),ft={class:"fixed top-0 w-full max-w-[768px]"},gt={class:"relative mt-[150px]"},bt={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},wt={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},yt={class:"left"},Ct={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},Et={class:"flex flex-wrap"},kt=s(()=>t("div",{class:"my-4 flex items-center justify-center rounded-xl text-primary text-base border-[1px] border-red-700 h-[20px] w-[80px]"}," Ho\xE0n t\u1EA5t ",-1)),Tt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},$t=s(()=>t("img",{src:nt,alt:"view count"},null,-1)),It={class:"ml-1"},zt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},At=s(()=>t("img",{class:"w-[18px] h-[18px]",src:lt,alt:"follow count"},null,-1)),Bt={class:"ml-1"},Nt={class:"flex items-center text-base text-gray-50"},Rt=s(()=>t("img",{src:rt,alt:"comment count"},null,-1)),St={class:"ml-1"},Pt={class:"right"},Dt={class:"w-[80px] text-center cursor-pointer"},jt=s(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),Ft={class:"flex items-center justify-center"},Lt={class:"text-white text-xl"},Vt=s(()=>t("div",{class:"cursor-pointer"},[t("img",{src:_t,alt:"Chia s\u1EBB"})],-1)),qt=s(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:dt,alt:"Theo d\xF5i"})],-1)),Ht={class:"relative bg-accent-4"},Kt={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},Wt=s(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),Xt=[Wt],Yt=s(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),Mt=[Yt],Ot=q({__name:"[_id]",async setup(r){let _,g;const b=H().params,A=x(b.slug),B=x(b._id),d=x("comic"),c=K("chapters","$eSIxtPvYzq"),N=W(),{data:a,pending:Gt,refresh:R}=([_,g]=X(()=>ut(`/api/comic/${A.value}/${B.value}`,"$hsfJR2PTP8")),_=await _,g(),_);Y(async()=>{!a.value||(c.value=await $fetch("/api/chapters",{params:{comic_slug:a.value.slug}}))}),M(async()=>{await R()});const w=h(()=>d.value===l.comic),y=h(()=>d.value===l.chapter),S=h(()=>d.value===l.review),p=i=>{d.value=i},P=()=>{var i,o;return c.value&&c.value.length>0?Q(`/${tt}/${(i=c.value[0])==null?void 0:i.slug}/${(o=c.value[0])==null?void 0:o._id}`):""},D=i=>({backgroundImage:`url(${N.public.imgCDN}${i})`});return(i,o)=>{var C,E,k;const j=et,F=xt;return m(),T("section",null,[t("div",{style:U(D(e(a).squareCover)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[$(j,{to:"/",class:"ml-4"},{default:O(()=>[ht]),_:1}),vt],4),t("div",ft,[$(F,{class:"relative w-full",src:e(a).squareCover},null,8,["src"])]),t("div",gt,[t("div",bt,[t("div",wt,[t("div",yt,[t("div",null,[t("h1",Ct,n((C=e(a))==null?void 0:C.comicName),1)]),t("div",Et,[kt,t("div",Tt,[$t,t("span",It,n(e(f)(e(a).viewCount)),1)]),t("div",zt,[At,t("span",Bt,n(e(f)(e(a).followingCount)),1)]),t("div",Nt,[Rt,t("span",St,n(e(f)(e(a).totalComment)),1)])])]),t("div",Pt,[t("div",Dt,[jt,t("div",Ft,[(m(),T(G,null,J(5,u=>t("img",{key:u,src:st,alt:"rating"})),64))]),t("div",null,[t("span",Lt,n(e(a).reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Vt,qt,t("a",{class:"comic-read",onClick:P}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",Ht,[t("div",Kt,[t("div",{class:v([{active:e(w)},"eKaTWX inline-block"]),onClick:o[0]||(o[0]=u=>p(e(l).comic))},Xt,2),t("div",{class:v([{active:e(y)},"eKaTWX"]),onClick:o[1]||(o[1]=u=>p(e(l).chapter))},[t("a",null,"Chapters ("+n((E=e(c))!=null&&E.length?(k=e(c))==null?void 0:k.length:0)+")",1)],2),t("div",{class:v([{active:e(S)},"eKaTWX"]),onClick:o[2]||(o[2]=u=>p(e(l).review))},Mt,2)])]),e(w)?(m(),I(pt,{key:0,comic:e(a)},null,8,["comic"])):z("",!0),e(y)?(m(),I(mt,{key:1,chapters:e(c)},null,8,["chapters"])):z("",!0)])}}});var oe=L(Ot,[["__scopeId","data-v-1ba985d3"]]);export{oe as default};
