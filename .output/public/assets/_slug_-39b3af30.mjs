import{j as Y,d as g,a as q,z as J,A as N,al as Z,a8 as tt,C as et,N as st,aq as ot,Q as x,u as e,o as _,c as v,b as R,f as t,e as D,w as at,aG as nt,t as i,F as ct,r as it,h,E as V,_ as b,ar as lt,V as rt,af as _t,y as dt,a2 as ut,a3 as mt,aQ as r,ac as pt,ad as xt,aR as vt,aS as ht,aT as ft,aU as gt,a5 as bt,aV as wt,aW as yt}from"./entry-2f3658bf.mjs";import{c as f}from"./index-b351655c.mjs";import Ct from"./PageLoading-01606937.mjs";import{i as Et}from"./index-a7823269.mjs";const kt=g(()=>b(()=>import("./MeeToonImg-61cb557b.mjs"),["MeeToonImg-61cb557b.mjs","entry-2f3658bf.mjs","entry.fa0f9e10.css"])),Tt=g(()=>b(()=>import("./entry-2f3658bf.mjs").then(function(l){return l.a$}),["entry-2f3658bf.mjs","entry.fa0f9e10.css"])),$t=g(()=>b(()=>import("./ChapterTab-929e318a.mjs"),["ChapterTab-929e318a.mjs","entry-2f3658bf.mjs","entry.fa0f9e10.css","index-b351655c.mjs"])),o=l=>(pt("data-v-49712f6a"),l=l(),xt(),l),It={key:1,class:"h-[100vh] bg-accent-4"},zt=o(()=>t("img",{src:vt,alt:"back"},null,-1)),At=o(()=>t("div",{class:"flex items-center bg-deep-black/50 h-[30px] rounded-2xl px-3 mr-4"},[t("img",{class:"mr-2",src:ht,alt:"report"}),t("span",{class:"text-white text-2xl"},"B\xE1o c\xE1o")],-1)),Lt={class:"fixed top-0 w-full max-w-[768px]"},St={class:"relative mt-[150px]"},Bt={class:"px-5",style:{background:"linear-gradient(rgba(17, 18, 23, 0) 0%, rgba(17, 18, 23, 0.5) 33.85%, rgba(17, 18, 23, 0.8) 68.75%, rgb(17, 18, 23) 100%)"}},Nt={class:"bg-contain p-6 bg-comic flex items-center justify-between rounded-xl",style:{"background-image":"url(/icons/comicPage/backgroundInfo.png)"}},Rt={class:"left"},Dt={class:"text-ellipsis line-clamp-1 text-3xl font-bold text-white"},Vt={class:"flex flex-wrap"},Pt={class:"my-4 flex items-center justify-center rounded-xl text-[#1fcf84] border-[#1fcf84] text-base border-[1px] h-[20px] w-[80px]"},jt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Ft=o(()=>t("img",{src:ft,alt:"view count"},null,-1)),Ut={class:"ml-1"},Wt={class:"mx-4 my-4 flex items-center text-gray-50 text-base"},Mt=o(()=>t("img",{class:"w-[18px] h-[18px]",src:gt,alt:"follow count"},null,-1)),Ot={class:"ml-1"},Ht={class:"flex items-center text-base text-gray-50"},Kt=o(()=>t("img",{src:bt,alt:"comment count"},null,-1)),Xt={class:"ml-1"},Gt={class:"right"},Qt={class:"w-[80px] text-center cursor-pointer"},Yt=o(()=>t("p",{class:"text-yellow-400 text-4xl"}," 5 ",-1)),qt={class:"flex items-center justify-center"},Jt={class:"text-white text-xl"},Zt=o(()=>t("div",{class:"cursor-pointer"},[t("img",{src:wt,alt:"Chia s\u1EBB"})],-1)),te=o(()=>t("div",{class:"ml-6 cursor-pointer"},[t("img",{src:yt,alt:"Theo d\xF5i"})],-1)),ee={class:"relative bg-accent-4"},se={class:"whitespace-nowrap overflow-x-auto border-b-[1px solid rgb(27, 28, 35)]"},oe=o(()=>t("span",null,"Gi\u1EDBi thi\u1EC7u",-1)),ae=[oe],ne=o(()=>t("a",null,"\u0110\xE1nh gi\xE1",-1)),ce=[ne],ie=q({__name:"[slug]",async setup(l){let d,w;const P=J().params,j=N(P.slug),u=N("comic"),n=Z("chapters","$ba69JAzWpM"),F=tt(),{data:s,pending:U,refresh:W}=([d,w]=et(()=>lt("novel-info",()=>$fetch(`/api/novel/${j.value}`),"$CiHF6kYh3n")),d=await d,w(),d);st(async()=>{!s.value||(n.value=await $fetch("/api/novel/chapters",{params:{novelId:s.value._id}}))}),ot(async()=>{Et&&window.scrollTo({top:0,behavior:"smooth"}),await W()});const y=x(()=>u.value===r.comic),C=x(()=>u.value===r.chapter),M=x(()=>u.value===r.review),p=c=>{u.value=c},O=()=>{var c,a;return n.value&&n.value.length>0?rt(`/${_t}/${(c=n.value[0])==null?void 0:c.slug}/${(a=n.value[0])==null?void 0:a._id}`):""},H=c=>({backgroundImage:`url(${F.public.imgCDN}${c})`});return(c,a)=>{var E,k,T,$,I,z,A,L,S,B;const K=dt,X=kt,G=Tt,Q=$t;return e(U)?(_(),v(Ct,{key:0})):(_(),R("section",It,[t("div",{style:nt(H((E=e(s))==null?void 0:E.verticalLogo)),class:"flex items-center justify-between h-[50px] z-10 fixed top-0 w-full overflow-hidden bg-cover"},[D(K,{class:"ml-4",to:"/novel"},{default:at(()=>[zt]),_:1}),At],4),t("div",Lt,[D(X,{class:"relative w-full",src:(k=e(s))==null?void 0:k.verticalLogo},null,8,["src"])]),t("div",St,[t("div",Bt,[t("div",Nt,[t("div",Rt,[t("div",null,[t("h1",Dt,i((T=e(s))==null?void 0:T.name),1)]),t("div",Vt,[t("div",Pt,i(e(ut)[($=e(s))==null?void 0:$.novelStatus]),1),t("div",jt,[Ft,t("span",Ut,i(e(f)((I=e(s))==null?void 0:I.viewCount)),1)]),t("div",Wt,[Mt,t("span",Ot,i(e(f)((z=e(s))==null?void 0:z.followingCount)),1)]),t("div",Ht,[Kt,t("span",Xt,i(e(f)((A=e(s))==null?void 0:A.totalComment)),1)])])]),t("div",Gt,[t("div",Qt,[Yt,t("div",qt,[(_(),R(ct,null,it(5,m=>t("img",{key:m,src:mt,alt:"rating"})),64))]),t("div",null,[t("span",Jt,i((L=e(s))==null?void 0:L.reviewCount)+" \u0110\xE1nh gi\xE1",1)])])])])])]),t("div",{class:"bg-footer-comic_page px-3 fixed bottom-0 w-full h-[60px] max-w-[768px] flex items-center z-50"},[Zt,te,t("a",{class:"comic-read",onClick:O}," B\u1EAFt \u0111\u1EA7u \u0111\u1ECDc ")]),t("div",ee,[t("div",se,[t("div",{class:h([{active:e(y)},"eKaTWX inline-block"]),onClick:a[0]||(a[0]=m=>p(e(r).comic))},ae,2),t("div",{class:h([{active:e(C)},"eKaTWX"]),onClick:a[1]||(a[1]=m=>p(e(r).chapter))},[t("a",null,"Chapters ("+i((S=e(n))!=null&&S.length?(B=e(n))==null?void 0:B.length:0)+")",1)],2),t("div",{class:h([{active:e(M)},"eKaTWX"]),onClick:a[2]||(a[2]=m=>p(e(r).review))},ce,2)])]),e(y)?(_(),v(G,{key:0,comic:e(s)},null,8,["comic"])):V("",!0),e(C)?(_(),v(Q,{key:1,chapters:e(n)},null,8,["chapters"])):V("",!0)]))}}});var me=Y(ie,[["__scopeId","data-v-49712f6a"]]);export{me as default};
