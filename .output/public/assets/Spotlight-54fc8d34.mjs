import L from"./MeeToonImg-a4086449.mjs";import{a4 as y,a5 as M,a as N,J as h,a6 as I,o as p,c as g,w as b,b as S,r as O,u as v,e as T,f as F,F as $,v as P,y as B}from"./entry-6525e429.mjs";import{S as C,a as D}from"./swiper-slide-00931835.mjs";function R(f){let{swiper:e,extendParams:c,on:u,emit:n}=f,t;e.autoplay={running:!1,paused:!1},c({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function s(){if(!e.size){e.autoplay.running=!1,e.autoplay.paused=!1;return}const a=e.slides.eq(e.activeIndex);let r=e.params.autoplay.delay;a.attr("data-swiper-autoplay")&&(r=a.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(t),t=M(()=>{let l;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),l=e.slidePrev(e.params.speed,!0,!0),n("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?o():(l=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),n("autoplay")):(l=e.slidePrev(e.params.speed,!0,!0),n("autoplay")):e.params.loop?(e.loopFix(),l=e.slideNext(e.params.speed,!0,!0),n("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?o():(l=e.slideTo(0,e.params.speed,!0,!0),n("autoplay")):(l=e.slideNext(e.params.speed,!0,!0),n("autoplay")),(e.params.cssMode&&e.autoplay.running||l===!1)&&s()},r)}function i(){return typeof t!="undefined"||e.autoplay.running?!1:(e.autoplay.running=!0,n("autoplayStart"),s(),!0)}function o(){return!e.autoplay.running||typeof t=="undefined"?!1:(t&&(clearTimeout(t),t=void 0),e.autoplay.running=!1,n("autoplayStop"),!0)}function d(a){!e.autoplay.running||e.autoplay.paused||(t&&clearTimeout(t),e.autoplay.paused=!0,a===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,s()):["transitionend","webkitTransitionEnd"].forEach(r=>{e.$wrapperEl[0].addEventListener(r,m)}))}function _(){const a=y();a.visibilityState==="hidden"&&e.autoplay.running&&d(),a.visibilityState==="visible"&&e.autoplay.paused&&(s(),e.autoplay.paused=!1)}function m(a){!e||e.destroyed||!e.$wrapperEl||a.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(r=>{e.$wrapperEl[0].removeEventListener(r,m)}),e.autoplay.paused=!1,e.autoplay.running?s():o())}function E(){e.params.autoplay.disableOnInteraction?o():(n("autoplayPause"),d()),["transitionend","webkitTransitionEnd"].forEach(a=>{e.$wrapperEl[0].removeEventListener(a,m)})}function w(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,n("autoplayResume"),s())}function k(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",E),e.$el.on("mouseleave",w))}function x(){e.$el.off("mouseenter",E),e.$el.off("mouseleave",w)}u("init",()=>{e.params.autoplay.enabled&&(i(),y().addEventListener("visibilitychange",_),k())}),u("beforeTransitionStart",(a,r,l)=>{e.autoplay.running&&(l||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(r):o())}),u("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?o():d())}),u("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&s()}),u("destroy",()=>{x(),e.autoplay.running&&o(),y().removeEventListener("visibilitychange",_)}),Object.assign(e.autoplay,{pause:d,run:s,start:i,stop:o})}const V={class:"w-full bottom-0"},A=N({__name:"Spotlight",props:{banner:Object},setup(f){const e=h([R]);I();const c=h({delay:2500,disableOnInteraction:!1});return(u,n)=>{const t=L,s=B;return p(),g(v(D),{loop:!0,modules:e.value,autoplay:c.value},{default:b(()=>[(p(!0),S($,null,O(f.banner.covers,i=>(p(),g(v(C),{key:i._id},{default:b(()=>[T(s,{to:v(P)(i.slug,i._id),class:"relative block h-[65vw]",title:i.comicName},{default:b(()=>[F("div",V,[T(t,{class:"w-full",alt:i.comicName,src:`${i.link}`},null,8,["alt","src"])]),(p(!0),S($,null,O(i.animations,o=>(p(),g(t,{key:o.image,class:"absolute w-full bottom-0",alt:i.comicName,src:`${o.image}`,width:375,height:280},null,8,["alt","src"]))),128))]),_:2},1032,["to","title"])]),_:2},1024))),128))]),_:1},8,["modules","autoplay"])}}});export{A as default};
